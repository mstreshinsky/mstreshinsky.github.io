/*!
 * Start Bootstrap - Clean Blog v5.0.9 (https://startbootstrap.com/themes/clean-blog)
 * Copyright 2013-2022 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-clean-blog/blob/master/LICENSE)
 */

const dl0_0_element=document.getElementById("dl0_0"),dl0_1_element=document.getElementById("dl0_1"),dl1_0_element=document.getElementById("dl1_0"),dl1_1_element=document.getElementById("dl1_1"),dl1_2_element=document.getElementById("dl1_2"),dl1_3_element=document.getElementById("dl1_3"),dl1_4_element=document.getElementById("dl1_4"),dl1_5_element=document.getElementById("dl1_5"),dl0_ckt_element=document.getElementById("dl0_ckt"),dl1_ckt0_element=document.getElementById("dl1_ckt0"),dl1_ckt1_element=document.getElementById("dl1_ckt1"),dl1_ckt2_element=document.getElementById("dl1_ckt2"),dl0_polyline_element=document.getElementById("dl0_polyline"),dl1_polyline_element=document.getElementById("dl1_polyline"),dl0_arc1_element=document.getElementById("dl0_arc1"),dl0_arc2_element=document.getElementById("dl0_arc2"),dl0_arc3_element=document.getElementById("dl0_arc3"),dl1_arc1_element=document.getElementById("dl1_arc1"),dl1_arc2_element=document.getElementById("dl1_arc2"),dl1_arc3_element=document.getElementById("dl1_arc3"),dl1_arc4_element=document.getElementById("dl1_arc4"),dl1_arc5_element=document.getElementById("dl1_arc5"),dl1_arc6_element=document.getElementById("dl1_arc6"),dl1_arc7_element=document.getElementById("dl1_arc7"),dl1_arc8_element=document.getElementById("dl1_arc8"),dl1_arc9_element=document.getElementById("dl1_arc9"),dl0_hover_element=document.getElementById("dl0_hover"),dl1_hover_element=document.getElementById("dl1_hover"),dc_element=document.getElementById("dc"),dc_top_element=document.getElementById("dc_top"),dc_bot_element=document.getElementById("dc_bot"),dc_top_out_element=document.getElementById("dc_top_out"),dc_bot_out_element=document.getElementById("dc_bot_out"),dc_hover_element=document.getElementById("dc_hover"),phase_element=document.getElementById("phase"),eo_phase_out_element=document.getElementById("eo_phase_out"),eo_volt_element=document.getElementById("eo_volt"),eo_block_element=document.getElementById("eo_block"),eo_phase_block_element=document.getElementById("eo_phase_block"),eo_hover_element=document.getElementById("eo_hover"),mzm_element=document.getElementById("mzm"),mzm_block_element=document.getElementById("mzm_block"),mzm_volt_element=document.getElementById("mzm_volt"),mzm_out_element=document.getElementById("mzm_out"),mzm_hover_element=document.getElementById("mzm_hover");let selectedElement,initialMousePosition,wait=!1,dl0_initial_height=parseFloat(dl0_0_element.getAttribute("height"));const dl0_min_height=10,dl0_max_height=250,dl_plot_len_factor=2e3;let new_length,dc_initial_length=190;const dc_max_length=300,dc_min_length=10;dc_top_out_element.setAttribute("opacity",.5+.5*Math.sin(10*dc_initial_length/290)),dc_bot_out_element.setAttribute("opacity",.5-.5*Math.sin(10*dc_initial_length/290));let new_rot,phase_initial_rot=0;const phase_min_rot=-70,phase_max_rot=70,phase_width=500;let mzm_initial_rot=0,new_mzm_rot=0,dl1_initial_height_0=parseFloat(dl1_0_element.getAttribute("height")),dl1_initial_height_2=parseFloat(dl1_2_element.getAttribute("height")),dl1_initial_height_4=parseFloat(dl1_4_element.getAttribute("height"));function polarToCartesian(e,t,n,_){var l=(_-90)*Math.PI/180;return{x:e+n*Math.cos(l),y:t+n*Math.sin(l)}}function describeArc(e,t,n,_,l){for(;l<_;)l+=360;var d=polarToCartesian(e,t,n,l),o=polarToCartesian(e,t,n,_),m=l-_<=180?"0":"1";return["M",d.x,d.y,"A",n,n,0,m,0,o.x,o.y].join(" ")}const arc2_description0=[450,375,50,90,-90];function updateDL0Plot(e){const t=e/2e3,n=100,_=400;let l,d,o=[];o.push([100,400]);for(let m=0;m<800;m++)l=1*m+n,d=150*Math.sin(t*m+e/50)+_-150,o.push([l,d]);o.push([900,400]),dl0_polyline_element.setAttribute("points",o.join(" "))}function updateDL1Plot(e,t,n){const _=e/2e3/2,l=t/2e3/2,d=n/2e3/2,o=100,m=400;let i,r,a=[];a.push([100,400]);for(let c=0;c<800;c++)i=1*c+o,r=150*Math.sin(_*c+e/50)*Math.sin(l*c+t/50)*Math.sin(d*c+n/50),r=r+m-150,a.push([i,r]);a.push([900,400]),dl1_polyline_element.setAttribute("points",a.join(" "))}function getMousePosition(e,t){var n=e.getScreenCTM();return t.touches&&(t=t.touches[0]),{x:(t.clientX-n.e)/n.a,y:(t.clientY-n.f)/n.d}}function start_phase_drag(e){initialMousePosition=getMousePosition(phase_element,e),selectedElement=phase_element,eo_hover_element.setAttribute("display","none"),phase_element.addEventListener("mousemove",phase_drag),phase_element.addEventListener("touchmove",phase_drag)}function end_phase_drag(e){selectedElement=null,initialMousePosition=null,phase_initial_rot=new_rot,phase_element.removeEventListener("mousemove",phase_drag),phase_element.removeEventListener("touchmove",phase_drag)}function set_phase_out(e){let t=[];const n=600,_=200;let l,d;var o=-Math.PI*(500/e);for(let e=0;e<100;e++)l=1*e+n,d=50*Math.sin(.1*e-o),d=d+_-50,t.push([l,d]);eo_phase_out_element.setAttribute("points",t.join(" "))}function phase_drag(e){if(e.preventDefault(),e.stopPropagation(),!wait&&selectedElement){var t=getMousePosition(selectedElement,e).x-initialMousePosition.x;new_rot=phase_initial_rot+t/3,new_rot<-70&&(new_rot=-70),new_rot>70&&(new_rot=70);var n=.3+2*new_rot*.2/140;eo_block_element.setAttribute("opacity",n),eo_volt_element.setAttribute("transform","translate(350 460) rotate("+new_rot+")");for(var _=25-2*new_rot*5/140,l=Math.ceil(500/_),d="M 100,150 Q "+(100+_/2)+",250 "+(100+_)+",150 t ",o=0;o<l;o++)d+=_+",0 ";eo_phase_block_element.setAttribute("d",d),set_phase_out(_),wait=!0,setTimeout((function(){wait=!1}),15)}}function start_mzm_drag(e){initialMousePosition=getMousePosition(mzm_element,e),selectedElement=mzm_element,mzm_hover_element.setAttribute("display","none"),mzm_element.addEventListener("mousemove",mzm_drag),mzm_element.addEventListener("touchmove",mzm_drag)}function end_mzm_drag(e){selectedElement=null,initialMousePosition=null,mzm_initial_rot=new_mzm_rot,mzm_element.removeEventListener("mousemove",mzm_drag),mzm_element.removeEventListener("touchmove",mzm_drag)}function mzm_drag(e){if(e.preventDefault(),e.stopPropagation(),!wait&&selectedElement){var t=getMousePosition(selectedElement,e).x-initialMousePosition.x;new_mzm_rot=mzm_initial_rot+t/3,new_mzm_rot<-70&&(new_mzm_rot=-70),new_mzm_rot>70&&(new_mzm_rot=70);var n=.3+2*new_mzm_rot*.2/140;mzm_block_element.setAttribute("opacity",n),mzm_volt_element.setAttribute("transform","translate(550 360) rotate("+new_mzm_rot+")");for(var _=25-2*new_mzm_rot*5/140,l=Math.ceil(500/_),d="M 100,150 Q "+(100+_/2)+",250 "+(100+_)+",150 t ",o=0;o<l;o++)d+=_+",0 ";mzm_block_element.setAttribute("d",d),mzm_out_element.setAttribute("opacity",.5+.5*Math.sin(15*new_mzm_rot/140)),wait=!0,setTimeout((function(){wait=!1}),15)}}function start_dc_drag(e){initialMousePosition=getMousePosition(dc_element,e),selectedElement=dc_element,dc_hover_element.setAttribute("display","none"),dc_element.addEventListener("mousemove",dc_drag),dc_element.addEventListener("touchmove",dc_drag)}function dc_drag(e){if(e.preventDefault(),e.stopPropagation(),!wait&&selectedElement){var t=getMousePosition(selectedElement,e).x-initialMousePosition.x;new_length=dc_initial_length+t,new_length<10&&(new_length=10),new_length>300&&(new_length=300);var n="100,70 150,70 200,150 210,150 "+String(210+new_length)+",150 "+String(210+new_length+50)+",70, 600,70",_="100,250 150,250 200,170 210,170 "+String(210+new_length)+",170 "+String(210+new_length+50)+",250 600,250";dc_top_element.setAttribute("points",n),dc_bot_element.setAttribute("points",_),dc_top_out_element.setAttribute("opacity",.5+.5*Math.sin(10*new_length/290)),dc_bot_out_element.setAttribute("opacity",.5-.5*Math.sin(10*new_length/290)),wait=!0,setTimeout((function(){wait=!1}),15)}}function end_dc_drag(e){selectedElement=null,initialMousePosition=null,dc_initial_length=new_length,dc_element.removeEventListener("mousemove",dc_drag),dc_element.removeEventListener("touchmove",dc_drag)}function start_dl0_drag(e){initialMousePosition=getMousePosition(dl0_ckt_element,e),selectedElement=dl0_ckt_element,dl0_initial_height=parseFloat(dl0_0_element.getAttribute("height")),dl0_hover_element.setAttribute("display","none"),dl0_ckt_element.addEventListener("mousemove",dl0_drag),dl0_ckt_element.addEventListener("touchmove",dl0_drag)}function start_dl1_ckt0_drag(e){initialMousePosition=getMousePosition(dl1_ckt0_element,e),selectedElement=dl1_ckt0_element,dl0_initial_height=parseFloat(dl1_0_element.getAttribute("height")),dl1_hover_element.setAttribute("display","none"),dl1_ckt0_element.addEventListener("mousemove",dl1_ckt0_drag),dl1_ckt0_element.addEventListener("touchmove",dl1_ckt0_drag)}function start_dl1_ckt1_drag(e){initialMousePosition=getMousePosition(dl1_ckt1_element,e),selectedElement=dl1_ckt1_element,dl0_initial_height=parseFloat(dl1_2_element.getAttribute("height")),dl1_hover_element.setAttribute("display","none"),dl1_ckt1_element.addEventListener("mousemove",dl1_ckt1_drag),dl1_ckt1_element.addEventListener("touchmove",dl1_ckt1_drag)}function start_dl1_ckt2_drag(e){initialMousePosition=getMousePosition(dl1_ckt2_element,e),selectedElement=dl1_ckt2_element,dl0_initial_height=parseFloat(dl1_4_element.getAttribute("height")),dl1_hover_element.setAttribute("display","none"),dl1_ckt2_element.addEventListener("mousemove",dl1_ckt2_drag),dl1_ckt2_element.addEventListener("touchmove",dl1_ckt2_drag)}dl0_arc1_element.setAttribute("d",describeArc(350,175,50,0,90)),dl0_arc2_element.setAttribute("d",describeArc(...arc2_description0)),dl0_arc3_element.setAttribute("d",describeArc(550,175,50,-90,0)),dl1_arc1_element.setAttribute("d",describeArc(350,175,50,0,90)),dl1_arc2_element.setAttribute("d",describeArc(...arc2_description0)),dl1_arc3_element.setAttribute("d",describeArc(550,175,50,-90,0)),dl1_arc4_element.setAttribute("d",describeArc(350,175,50,0,90)),dl1_arc5_element.setAttribute("d",describeArc(...arc2_description0)),dl1_arc6_element.setAttribute("d",describeArc(550,175,50,-90,0)),dl1_arc7_element.setAttribute("d",describeArc(350,175,50,0,90)),dl1_arc8_element.setAttribute("d",describeArc(...arc2_description0)),dl1_arc9_element.setAttribute("d",describeArc(550,175,50,-90,0)),updateDL0Plot(dl0_initial_height),updateDL1Plot(dl1_initial_height_0,dl1_initial_height_2,dl1_initial_height_4),set_phase_out(25);let dl0_drag=e=>{dl_drag(dl0_0_element,dl0_1_element,dl0_arc2_element,updateDL0Plot,e)},dl1_ckt0_drag=e=>{dl_drag(dl1_0_element,dl1_1_element,dl1_arc2_element,update_dl1_ckt0_plot,e)},dl1_ckt1_drag=e=>{dl_drag(dl1_2_element,dl1_3_element,dl1_arc5_element,update_dl1_ckt1_plot,e)},dl1_ckt2_drag=e=>{dl_drag(dl1_4_element,dl1_5_element,dl1_arc8_element,update_dl1_ckt2_plot,e)},update_dl1_ckt0_plot=e=>{updateDL1Plot(e,parseFloat(dl1_2_element.getAttribute("height")),parseFloat(dl1_4_element.getAttribute("height")))},update_dl1_ckt1_plot=e=>{updateDL1Plot(parseFloat(dl1_0_element.getAttribute("height")),e,parseFloat(dl1_4_element.getAttribute("height")))},update_dl1_ckt2_plot=e=>{updateDL1Plot(parseFloat(dl1_0_element.getAttribute("height")),parseFloat(dl1_2_element.getAttribute("height")),e)};function dl_drag(e,t,n,_,l){if(l.preventDefault(),l.stopPropagation(),!wait&&selectedElement){var d=getMousePosition(selectedElement,l).y-initialMousePosition.y,o=dl0_initial_height+d;o<10&&(o=10),o>250&&(o=250),e.setAttribute("height",o),t.setAttribute("height",o);let m=[...arc2_description0];m[1]=m[1]+(o-200),n.setAttribute("d",describeArc(...m)),_(o),wait=!0,setTimeout((function(){wait=!1}),15)}}function end_dl0_drag(e){selectedElement=null,initialMousePosition=null,dl0_ckt_element.removeEventListener("mousemove",dl0_drag),dl0_ckt_element.removeEventListener("touchmove",dl0_drag)}function end_dl1_ckt0_drag(e){selectedElement=null,initialMousePosition=null,dl1_ckt0_element.removeEventListener("mousemove",dl1_ckt0_drag),dl1_ckt0_element.removeEventListener("touchmove",dl1_ckt0_drag)}function end_dl1_ckt1_drag(e){selectedElement=null,initialMousePosition=null,dl1_ckt1_element.removeEventListener("mousemove",dl1_ckt1_drag),dl1_ckt1_element.removeEventListener("touchmove",dl1_ckt1_drag)}function end_dl1_ckt2_drag(e){selectedElement=null,initialMousePosition=null,dl1_ckt2_element.removeEventListener("mousemove",dl1_ckt2_drag),dl1_ckt2_element.removeEventListener("touchmove",dl1_ckt2_drag)}dl0_ckt_element.addEventListener("touchstart",start_dl0_drag),dl0_ckt_element.addEventListener("mousedown",start_dl0_drag),dl0_ckt_element.addEventListener("mouseup",end_dl0_drag),dl0_ckt_element.addEventListener("touchend",end_dl0_drag),dl0_ckt_element.addEventListener("touchcancel",end_dl0_drag),dl1_ckt0_element.addEventListener("touchstart",start_dl1_ckt0_drag),dl1_ckt0_element.addEventListener("mousedown",start_dl1_ckt0_drag),dl1_ckt0_element.addEventListener("mouseup",end_dl1_ckt0_drag),dl1_ckt0_element.addEventListener("touchend",end_dl1_ckt0_drag),dl1_ckt0_element.addEventListener("touchcancel",end_dl1_ckt0_drag),dl1_ckt1_element.addEventListener("touchstart",start_dl1_ckt1_drag),dl1_ckt1_element.addEventListener("mousedown",start_dl1_ckt1_drag),dl1_ckt1_element.addEventListener("mouseup",end_dl1_ckt1_drag),dl1_ckt1_element.addEventListener("touchend",end_dl1_ckt1_drag),dl1_ckt1_element.addEventListener("touchcancel",end_dl1_ckt1_drag),dl1_ckt2_element.addEventListener("touchstart",start_dl1_ckt2_drag),dl1_ckt2_element.addEventListener("mousedown",start_dl1_ckt2_drag),dl1_ckt2_element.addEventListener("mouseup",end_dl1_ckt2_drag),dl1_ckt2_element.addEventListener("touchend",end_dl1_ckt2_drag),dl1_ckt2_element.addEventListener("touchcancel",end_dl1_ckt2_drag),dc_element.addEventListener("touchstart",start_dc_drag),dc_element.addEventListener("mousedown",start_dc_drag),dc_element.addEventListener("mouseup",end_dc_drag),dc_element.addEventListener("touchend",end_dc_drag),dc_element.addEventListener("touchcancel",end_dc_drag),phase_element.addEventListener("touchstart",start_phase_drag),phase_element.addEventListener("mousedown",start_phase_drag),phase_element.addEventListener("mouseup",end_phase_drag),phase_element.addEventListener("touchend",end_phase_drag),phase_element.addEventListener("touchcancel",end_phase_drag),mzm_element.addEventListener("touchstart",start_mzm_drag),mzm_element.addEventListener("mousedown",start_mzm_drag),mzm_element.addEventListener("mouseup",end_mzm_drag),mzm_element.addEventListener("touchend",end_mzm_drag),mzm_element.addEventListener("touchcancel",end_mzm_drag);